<?xml version="1.0" encoding="UTF-8"?>


<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>


<AnchorPane xmlns:fx="http://javafx.com/fxml/1" xmlns="http://javafx.com/javafx/25"
            fx:controller="com.pos.controller.ProductController">
    <children>
        <VBox prefHeight="600" prefWidth="800" spacing="10" AnchorPane.bottomAnchor="10" AnchorPane.leftAnchor="10"
              AnchorPane.rightAnchor="10" AnchorPane.topAnchor="10">


            <!-- Tiêu đề -->
            <Label alignment="CENTER" style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: #2b5797;"
                   text="QUẢN LÝ SẢN PHẨM"/>


            <!-- Thanh tìm kiếm -->
            <HBox spacing="10">
                <TextField fx:id="searchField" promptText="Nhập tên sản phẩm để tìm..." HBox.hgrow="ALWAYS"/>
                <Button onAction="#handleSearch" text="Tìm kiếm"/>
                <Button onAction="#handleRefresh" text="Làm mới"/>
            </HBox>


            <Separator/>


            <!-- Form nhập thông tin -->
            <GridPane hgap="10" vgap="10">
                <columnConstraints>
                    <ColumnConstraints halignment="RIGHT" minWidth="100"/>
                    <ColumnConstraints halignment="LEFT" hgrow="ALWAYS"/>
                </columnConstraints>


                <children>
                    <Label text="Tên sản phẩm:" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                    <TextField fx:id="productNameField" promptText="Nhập tên sản phẩm" GridPane.columnIndex="1"
                               GridPane.rowIndex="0"/>


                    <Label text="Danh mục:" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                    <ComboBox fx:id="categoryCombo" prefWidth="200" GridPane.columnIndex="1" GridPane.rowIndex="1"/>


                    <Label text="Giá:" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                    <TextField fx:id="priceField" promptText="Nhập giá sản phẩm" GridPane.columnIndex="1"
                               GridPane.rowIndex="2"/>


                    <Label text="Số lượng:" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                    <TextField fx:id="stockField" promptText="Nhập số lượng tồn" GridPane.columnIndex="1"
                               GridPane.rowIndex="3"/>
                </children>
                <rowConstraints>
                    <RowConstraints/>
                    <RowConstraints/>
                    <RowConstraints/>
                    <RowConstraints/>
                </rowConstraints>
            </GridPane>


            <!-- Nút thao tác -->
            <HBox alignment="CENTER" spacing="10">
                <Button onAction="#handleAdd" style="-fx-background-color: #28a745; -fx-text-fill: white;" text="Thêm"/>
                <Button onAction="#handleUpdate" style="-fx-background-color: #007bff; -fx-text-fill: white;"
                        text="Cập nhật"/>
                <Button onAction="#handleDelete" style="-fx-background-color: #dc3545; -fx-text-fill: white;"
                        text="Xóa"/>
                <Button onAction="#handleClear" style="-fx-background-color: #6c757d; -fx-text-fill: white;"
                        text="Xóa form"/>
            </HBox>


            <Separator/>


            <!-- Bảng hiển thị sản phẩm -->
            <TableView fx:id="productTable" prefHeight="400" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="colId" prefWidth="50" text="ID"/>
                    <TableColumn fx:id="colName" prefWidth="180" text="Tên sản phẩm"/>
                    <TableColumn fx:id="colCategory" prefWidth="120" text="Danh mục"/>
                    <TableColumn fx:id="colPrice" prefWidth="120" text="Giá"/>
                    <TableColumn fx:id="colStock" prefWidth="100" text="Tồn kho"/>
                </columns>
            </TableView>
        </VBox>
    </children>
</AnchorPane>
